var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function a(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t,n){e.$$.on_destroy.push(function(e,t){const n=e.subscribe(t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function s(e,t,n=t){return e.set(n),t}function l(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function m(){return f(" ")}function h(){return f("")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function $(e,t){t=""+t,e.data!==t&&(e.data=t)}function _(e,t){(null!=t||e.value)&&(e.value=t)}function k(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function v(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let b;function x(e){b=e}function j(){if(!b)throw new Error("Function called outside component initialization");return b}function w(e,t){j().$$.context.set(e,t)}function S(e){return j().$$.context.get(e)}const C=[],F=[],E=[],N=[],O=Promise.resolve();let L=!1;function R(e){E.push(e)}function A(){const e=new Set;do{for(;C.length;){const e=C.shift();x(e),T(e.$$)}for(;F.length;)F.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];e.has(n)||(n(),e.add(n))}E.length=0}while(C.length);for(;N.length;)N.pop()();L=!1}function T(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(R))}const U=new Set;let q;function B(e,t){e&&e.i&&(U.delete(e),e.i(t))}function I(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),q.c.push(()=>{U.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const D="undefined"!=typeof window?window:global;function P(e,n,i){const{fragment:o,on_mount:s,on_destroy:l,after_update:c}=e.$$;o.m(n,i),R(()=>{const n=s.map(t).filter(a);l?l.push(...n):r(n),e.$$.on_mount=[]}),c.forEach(R)}function V(e,t){e.$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function z(e,t){e.$$.dirty||(C.push(e),L||(L=!0,O.then(A)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function H(t,a,i,o,s,l){const c=b;x(t);const u=a.props||{},d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:null};let p=!1;d.ctx=i?i(t,u,(e,n,r=n)=>(d.ctx&&s(d.ctx[e],d.ctx[e]=r)&&(d.bound[e]&&d.bound[e](r),p&&z(t,e)),n)):u,d.update(),p=!0,r(d.before_update),d.fragment=o(d.ctx),a.target&&(a.hydrate?d.fragment.l(function(e){return Array.from(e.childNodes)}(a.target)):d.fragment.c(),a.intro&&B(t.$$.fragment),P(t,a.target,a.anchor),A()),x(c)}class J{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var K={baseUrl:"https://raw.githubusercontent.com/primavera133/dragonsGraphQLAPI/master/api/data/",dataTree:{aeshnidae:["aeshna-affinis","aeshna-caerulea","aeshna-crenata","aeshna-cyanea","aeshna-grandis","aeshna-isoceles","aeshna-juncea","aeshna-mixta","aeshna-serrata","aeshna-subarctica","aeshna-viridis","anax-ephippiger","anax-imaculifrons","anax-imperator","anax-junius","anax-parthenope","boyeria-cretensis","boyeria-irene","brachytron-pratense","caliaeschna-microstigma"],calopterygidae:["calopteryx-haemorrhoidalis","calopteryx-splendens","calopteryx-virgo","calopteryx-xanthostoma"],coenagrionidae:["ceriagrion-georgifreyi","ceriagrion-tenellum","coenagrion-armatum","coenagrion-caerulescens","coenagrion-ecornutum","coenagrion-glaciale","coenagrion-hastulatum","coenagrion-hylas","coenagrion-intermedium","coenagrion-johanssonii","coenagrion-lunulatum","coenagrion-mercuriale","coenagrion-ornatum","coenagrion-puella","coenagrion-pulchellum","coenagrion-scitulum","enallagma-cyathigerum","erythromma-lindenii","erythromma-najas","erythromma-viridulum","nehalennia-speciosa"],cordulegastridae:["cordulegaster-bidentata","cordulegaster-boltonii","cordulegaster-helladica","cordulegaster-heros","cordulegaster-insignis","cordulegaster-picta","cordulegaster-trinacriae"],corduliidae:["cordulia-aenea","epitheca-bimaculata","somatochlora-alpestris","somatochlora-arctica","somatochlora-borisi","somatochlora-flavomaculata","somatochlora-graeseri","somatochlora-meridionalis","somatochlora-metallica","somatochlora-sahlbergi"],euphaeidae:["epallage-fatime"],gomphidae:["lindenia-tetraphylla","gomphus-flavipes","gomphus-graslinii","gomphus-pulchellus","gomphus-schneiderii","gomphus-simillimus","gomphus-vulgatissimus","onychogomphus-costae","onychogomphus-forcipatus","onychogomphus-uncatus","ophiogomphus-cecilia","paragomphus-genei"],incerta_sedis:["oxygastra-curtisii"],lestidae:["chalcolestes-parvidens","chalcolestes-viridis","lestes-barbarus","lestes-dryas","lestes-macrostigma","lestes-sponsa","lestes-virens","sympecma-fusca","sympecma-paedisca"],libellulidae:["brachythemis-impartita","crocothemis-erythraea","diplacodes-lefebvrii","leucorrhinia-albifrons","leucorrhinia-caudalis","leucorrhinia-dubia","leucorrhinia-pectoralis","leucorrhinia-rubicunda","libellula-depressa","libellula-fulva","libellula-quadrimaculata","orthetrum-albistylum","orthetrum-brunneum","orthetrum-cancellatum","orthetrum-chrysostigma","orthetrum-coerulescens","orthetrum-nitidinerve","orthetrum-sabina","orthetrum-taeniolatum","orthetrum-trinacria","pantala-flavescens","selysiothemis-nigra","sympetrum-danae","sympetrum-depressiculum","sympetrum-flaveolum","sympetrum-fonscolombii","sympetrum-meridionale","sympetrum-nigrifemur","sympetrum-pedemontanum","sympetrum-sanguineum","sympetrum-sinaiticum","sympetrum-striolatum","sympetrum-vulgatum","trithemis-annulata","trithemis-arteriosa","trithemis-festiva","trithemis-kirbyi","zygonyx-torridus"],macromiidae:["macromia-amphigena","macromia-splendens"],platycnemididae:["platycnemis-acutipennis","platycnemis-dealbata","platycnemis-latipes","platycnemis-pennipes"]}},M=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},G=Object.prototype.toString;function X(e){return"[object Array]"===G.call(e)}function Y(e){return null!==e&&"object"==typeof e}function Q(e){return"[object Function]"===G.call(e)}function W(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),X(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var Z={isArray:X,isArrayBuffer:function(e){return"[object ArrayBuffer]"===G.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Y,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===G.call(e)},isFile:function(e){return"[object File]"===G.call(e)},isBlob:function(e){return"[object Blob]"===G.call(e)},isFunction:Q,isStream:function(e){return Y(e)&&Q(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:W,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,a=arguments.length;r<a;r++)W(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,a=arguments.length;r<a;r++)W(arguments[r],n);return t},extend:function(e,t,n){return W(t,(function(t,r){e[r]=n&&"function"==typeof t?M(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function ee(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var te=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Z.isURLSearchParams(t))r=t.toString();else{var a=[];Z.forEach(t,(function(e,t){null!=e&&(Z.isArray(e)?t+="[]":e=[e],Z.forEach(e,(function(e){Z.isDate(e)?e=e.toISOString():Z.isObject(e)&&(e=JSON.stringify(e)),a.push(ee(t)+"="+ee(e))})))})),r=a.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function ne(){this.handlers=[]}ne.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},ne.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ne.prototype.forEach=function(e){Z.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var re=ne,ae=function(e,t,n){return Z.forEach(n,(function(n){e=n(e,t)})),e},ie=function(e){return!(!e||!e.__CANCEL__)},oe=function(e,t){Z.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},se=function(e,t,n,r,a){return function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,a)},le=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ce=Z.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Z.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},ue=Z.isStandardBrowserEnv()?{write:function(e,t,n,r,a,i){var o=[];o.push(e+"="+encodeURIComponent(t)),Z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&o.push("path="+r),Z.isString(a)&&o.push("domain="+a),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},de=function(e){return new Promise((function(t,n){var r=e.data,a=e.headers;Z.isFormData(r)&&delete a["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var o=e.auth.username||"",s=e.auth.password||"";a.Authorization="Basic "+btoa(o+":"+s)}if(i.open(e.method.toUpperCase(),te(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,a,o,s,l,c="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),l={},r?(Z.forEach(r.split("\n"),(function(e){if(s=e.indexOf(":"),a=Z.trim(e.substr(0,s)).toLowerCase(),o=Z.trim(e.substr(s+1)),a){if(l[a]&&le.indexOf(a)>=0)return;l[a]="set-cookie"===a?(l[a]?l[a]:[]).concat([o]):l[a]?l[a]+", "+o:o}})),l):l):null,u={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:c,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(se("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,u),i=null}},i.onabort=function(){i&&(n(se("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(se("Network Error",e,null,i)),i=null},i.ontimeout=function(){n(se("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},Z.isStandardBrowserEnv()){var l=ue,c=(e.withCredentials||ce(e.url))&&e.xsrfCookieName?l.read(e.xsrfCookieName):void 0;c&&(a[e.xsrfHeaderName]=c)}if("setRequestHeader"in i&&Z.forEach(a,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete a[t]:i.setRequestHeader(t,e)})),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))},pe={"Content-Type":"application/x-www-form-urlencoded"};function fe(e,t){!Z.isUndefined(e)&&Z.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var me,he={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?me=de:"undefined"!=typeof XMLHttpRequest&&(me=de),me),transformRequest:[function(e,t){return oe(t,"Accept"),oe(t,"Content-Type"),Z.isFormData(e)||Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)?e:Z.isArrayBufferView(e)?e.buffer:Z.isURLSearchParams(e)?(fe(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Z.isObject(e)?(fe(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};he.headers={common:{Accept:"application/json, text/plain, */*"}},Z.forEach(["delete","get","head"],(function(e){he.headers[e]={}})),Z.forEach(["post","put","patch"],(function(e){he.headers[e]=Z.merge(pe)}));var ge=he;function ye(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var $e=function(e){var t,n,r;return ye(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=ae(e.data,e.headers,e.transformRequest),e.headers=Z.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),Z.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ge.adapter)(e).then((function(t){return ye(e),t.data=ae(t.data,t.headers,e.transformResponse),t}),(function(t){return ie(t)||(ye(e),t&&t.response&&(t.response.data=ae(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},_e=function(e,t){t=t||{};var n={};return Z.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),Z.forEach(["headers","auth","proxy"],(function(r){Z.isObject(t[r])?n[r]=Z.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:Z.isObject(e[r])?n[r]=Z.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),Z.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function ke(e){this.defaults=e,this.interceptors={request:new re,response:new re}}ke.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=_e(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[$e,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},ke.prototype.getUri=function(e){return e=_e(this.defaults,e),te(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Z.forEach(["delete","get","head","options"],(function(e){ke.prototype[e]=function(t,n){return this.request(Z.merge(n||{},{method:e,url:t}))}})),Z.forEach(["post","put","patch"],(function(e){ke.prototype[e]=function(t,n,r){return this.request(Z.merge(r||{},{method:e,url:t,data:n}))}}));var ve=ke;function be(e){this.message=e}be.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},be.prototype.__CANCEL__=!0;var xe=be;function je(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new xe(e),t(n.reason))}))}je.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},je.source=function(){var e;return{token:new je((function(t){e=t})),cancel:e}};var we=je;function Se(e){var t=new ve(e),n=M(ve.prototype.request,t);return Z.extend(n,ve.prototype,t),Z.extend(n,t),n}var Ce=Se(ge);Ce.Axios=ve,Ce.create=function(e){return Se(_e(Ce.defaults,e))},Ce.Cancel=xe,Ce.CancelToken=we,Ce.isCancel=ie,Ce.all=function(e){return Promise.all(e)},Ce.spread=function(e){return function(t){return e.apply(null,t)}};var Fe=Ce,Ee=Ce;Fe.default=Ee;var Ne=Fe,Oe={items_id:"",scientific_name:"",author_citation:"",local_names:[],description:"",behaviour:"",size:{length:"mm",wingspan:" mm"},similar_species:[],distribution:"",habitat:"",flight_period:"",red_list:{habitats_directive:"",red_list_EU27:"",red_list_europe:"",red_list_mediterranean:"",EU27_endemic:"",red_list_europe_endemic:"",trend_europe:""},images:{cloud_name:"dragonflies",all:[{alt:"",public_id:"",license:"CC BY 3.0",lic_url:"https://creativecommons.org/licenses/by/3.0/",by:"Göran Liljeberg",url:"http://liljebergs.nu/"}]}};const Le=({family:e,species:t})=>new Promise((n,r)=>{if(!(e&&t&&e.length&&t.length))return;const a=`${K.baseUrl}${e}/${t}.json`;Ne.get(a).then(e=>n(function(e){return Object.assign(Oe,e)}(e.data))).catch(e=>{console.log(555,Oe),n(Oe)})}),{Object:Re}=D;function Ae(e,t,n){const r=Re.create(e);return r.family=t[n],r}function Te(t){var n,r,a=t.family+"";return{c(){n=p("option"),r=f(a),n.__value=t.family,n.value=n.__value},m(e,t){c(e,n,t),l(n,r)},p:e,d(e){e&&u(n)}}}function Ue(t){var n,a,i,o;let s=t.families,f=[];for(let e=0;e<s.length;e+=1)f[e]=Te(Ae(t,s,e));return{c(){n=p("div"),a=p("select"),(i=p("option")).textContent="Välj en familj";for(let e=0;e<f.length;e+=1)f[e].c();i.__value="",i.value=i.__value,void 0===t.selected&&R(()=>t.select_change_handler.call(a)),y(a,"id","family"),y(n,"class","select"),o=[g(a,"change",t.select_change_handler),g(a,"change",t.handleChange)]},m(e,r){c(e,n,r),l(n,a),l(a,i);for(let e=0;e<f.length;e+=1)f[e].m(a,null);k(a,t.selected)},p(e,t){if(e.families){let n;for(s=t.families,n=0;n<s.length;n+=1){const r=Ae(t,s,n);f[n]?f[n].p(e,r):(f[n]=Te(r),f[n].c(),f[n].m(a,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=s.length}e.selected&&k(a,t.selected)},i:e,o:e,d(e){e&&u(n),d(f,e),r(o)}}}function qe(e,t,n){const r=Object.keys(K.dataTree);let a;const{setFamily:i}=S("family");return{families:r,selected:a,handleChange:function(){i(a)},select_change_handler:function(){a=v(this),n("selected",a),n("families",r)}}}class Be extends J{constructor(e){super(),H(this,e,qe,Ue,i,[])}}function Ie(e,t,n){const r=Object.create(e);return r.specie=t[n],r}function De(e){var t,n,a,i,o,s,m;let h=e.species,_=[];for(let t=0;t<h.length;t+=1)_[t]=Pe(Ie(e,h,t));return{c(){t=p("div"),n=p("select"),a=p("option"),i=f("Välj en art inom "),o=f(e.selectedFamily);for(let e=0;e<_.length;e+=1)_[e].c();a.__value=s="Välj en art inom "+e.selectedFamily,a.value=a.__value,void 0===e.selected&&R(()=>e.select_change_handler.call(n)),y(n,"id","species"),y(t,"class","select select-specie svelte-130s37p"),m=[g(n,"change",e.select_change_handler),g(n,"change",e.handleChange)]},m(r,s){c(r,t,s),l(t,n),l(n,a),l(a,i),l(a,o);for(let e=0;e<_.length;e+=1)_[e].m(n,null);k(n,e.selected)},p(e,t){if(e.selectedFamily&&$(o,t.selectedFamily),e.selectedFamily&&s!==(s="Välj en art inom "+t.selectedFamily)&&(a.__value=s),a.value=a.__value,e.species||e.selectedSpecie){let r;for(h=t.species,r=0;r<h.length;r+=1){const a=Ie(t,h,r);_[r]?_[r].p(e,a):(_[r]=Pe(a),_[r].c(),_[r].m(n,null))}for(;r<_.length;r+=1)_[r].d(1);_.length=h.length}e.selected&&k(n,t.selected)},d(e){e&&u(t),d(_,e),r(m)}}}function Pe(e){var t,n,r,a,i,o=e.specie+"";return{c(){t=p("option"),n=f(o),r=m(),t.selected=a=e.specie===e.selectedSpecie,t.__value=i=e.specie,t.value=t.__value},m(e,a){c(e,t,a),l(t,n),l(t,r)},p(e,r){e.species&&o!==(o=r.specie+"")&&$(n,o),(e.species||e.selectedSpecie)&&a!==(a=r.specie===r.selectedSpecie)&&(t.selected=a),e.species&&i!==(i=r.specie)&&(t.__value=i),t.value=t.__value},d(e){e&&u(t)}}}function Ve(t){var n,r=t.selectedFamily&&De(t);return{c(){r&&r.c(),n=h()},m(e,t){r&&r.m(e,t),c(e,n,t)},p(e,t){t.selectedFamily?r?r.p(e,t):((r=De(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&u(n)}}}function ze(e,t,n){let r,{selectedFamily:a,selectedSpecie:i}=t,o=[];const{setSpecie:s}=S("specie");return e.$set=e=>{"selectedFamily"in e&&n("selectedFamily",a=e.selectedFamily),"selectedSpecie"in e&&n("selectedSpecie",i=e.selectedSpecie)},e.$$.update=(e={selectedFamily:1})=>{e.selectedFamily&&a&&n("species",o=K.dataTree[a])},{selectedFamily:a,selectedSpecie:i,selected:r,species:o,handleChange:function(){s(r)},select_change_handler:function(){r=v(this),n("selected",r),n("species",o),n("selectedFamily",a),n("selectedFamily",a)}}}class He extends J{constructor(e){super(),H(this,e,ze,Ve,i,["selectedFamily","selectedSpecie"])}}const Je=[];function Ke(t,n=e){let r;const a=[];function o(e){if(i(t,e)&&(t=e,r)){const e=!Je.length;for(let e=0;e<a.length;e+=1){const n=a[e];n[1](),Je.push(n,t)}if(e){for(let e=0;e<Je.length;e+=2)Je[e][0](Je[e+1]);Je.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,s=e){const l=[i,s];return a.push(l),1===a.length&&(r=n(o)||e),i(t),()=>{const e=a.indexOf(l);-1!==e&&a.splice(e,1),0===a.length&&(r(),r=null)}}}}const Me=Ke({}),Ge=Ke(null),Xe=Ke(null);function Ye(e){var t,n,a,i,o,s,d,h,k,v,b;return{c(){t=p("fieldset"),n=p("button"),a=p("label"),i=f(e.key),s=m(),d=p("textarea"),k=m(),(v=p("button")).textContent="Close",y(a,"for",o=`input_text_${e.key}`),y(n,"class","truncate button-primary-text svelte-1sm3mev"),y(d,"id",h=`input_text_${e.key}`),y(d,"name",e.key),y(d,"class",""),y(d,"rows",12),y(v,"class","close button-primary-text svelte-1sm3mev"),b=[g(n,"click",e.click_handler_1),g(d,"input",e.textarea_input_handler),g(v,"click",e.click_handler_2)]},m(r,o){c(r,t,o),l(t,n),l(n,a),l(a,i),l(t,s),l(t,d),_(d,e.$json[e.key]),l(t,k),l(t,v)},p(e,t){e.key&&$(i,t.key),e.key&&o!==(o=`input_text_${t.key}`)&&y(a,"for",o),(e.$json||e.key)&&_(d,t.$json[t.key]),e.key&&h!==(h=`input_text_${t.key}`)&&y(d,"id",h),e.key&&y(d,"name",t.key)},d(e){e&&u(t),r(b)}}}function Qe(e){var t,n,r,a,i,o,s=e.getLabel()+"",d=e.$json[e.key]+"";return{c(){t=p("button"),n=p("label"),r=f(s),a=f("\n    : "),i=f(d),y(t,"class","truncate button-primary-text svelte-1sm3mev"),o=g(t,"click",e.click_handler)},m(e,o){c(e,t,o),l(t,n),l(n,r),l(t,a),l(t,i)},p(e,t){(e.$json||e.key)&&d!==(d=t.$json[t.key]+"")&&$(i,d)},d(e){e&&u(t),o()}}}function We(t){var n;function r(e,t){return t.open?Ye:Qe}var a=r(0,t),i=a(t);return{c(){i.c(),n=h()},m(e,t){i.m(e,t),c(e,n,t)},p(e,t){a===(a=r(0,t))&&i?i.p(e,t):(i.d(1),(i=a(t))&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&u(n)}}}function Ze(e,t,n){let r,a;o(e,Ge,e=>{n("$openField",r=e)}),o(e,Me,e=>{n("$json",a=e)});let{key:i,open:l=!1}=t;function c(e){s(Ge,r=e)}return e.$set=e=>{"key"in e&&n("key",i=e.key),"open"in e&&n("open",l=e.open)},e.$$.update=(e={$openField:1,key:1})=>{(e.$openField||e.key)&&n("open",l=r===i)},{key:i,open:l,getLabel:function(){return i.replace("_"," ")},handleChange:c,$openField:r,$json:a,click_handler:()=>c(i),click_handler_1:()=>s(Ge,r=null),textarea_input_handler:function(){Me.update(e=>(e[i]=this.value,e)),n("key",i)},click_handler_2:()=>s(Ge,r=null)}}class et extends J{constructor(e){super(),H(this,e,Ze,We,i,["key","open"])}}function tt(e){var t,n,a,i,o,s,d,h,k,v,b;return{c(){t=p("fieldset"),n=p("button"),a=p("label"),i=f(e.key),s=m(),d=p("input"),k=m(),(v=p("button")).textContent="Close",y(a,"for",o=`input_text_${e.key}`),y(n,"class","truncate button-primary-text svelte-rqkxgg"),y(d,"type","text"),y(d,"id",h=`input_text_${e.key}`),y(d,"name",e.key),y(d,"class"," svelte-rqkxgg"),y(v,"class","close button-primary-text svelte-rqkxgg"),b=[g(n,"click",e.click_handler_1),g(d,"input",e.input_input_handler),g(v,"click",e.click_handler_2)]},m(r,o){c(r,t,o),l(t,n),l(n,a),l(a,i),l(t,s),l(t,d),_(d,e.$json[e.key]),l(t,k),l(t,v)},p(e,t){e.key&&$(i,t.key),e.key&&o!==(o=`input_text_${t.key}`)&&y(a,"for",o),(e.$json||e.key)&&d.value!==t.$json[t.key]&&_(d,t.$json[t.key]),e.key&&h!==(h=`input_text_${t.key}`)&&y(d,"id",h),e.key&&y(d,"name",t.key)},d(e){e&&u(t),r(b)}}}function nt(e){var t,n,r,a,i,o,s=e.getLabel()+"",d=e.$json[e.key]+"";return{c(){t=p("button"),n=p("label"),r=f(s),a=f("\n    : "),i=f(d),y(t,"class","truncate button-primary-text svelte-rqkxgg"),o=g(t,"click",e.click_handler)},m(e,o){c(e,t,o),l(t,n),l(n,r),l(t,a),l(t,i)},p(e,t){(e.$json||e.key)&&d!==(d=t.$json[t.key]+"")&&$(i,d)},d(e){e&&u(t),o()}}}function rt(t){var n;function r(e,t){return t.open?tt:nt}var a=r(0,t),i=a(t);return{c(){i.c(),n=h()},m(e,t){i.m(e,t),c(e,n,t)},p(e,t){a===(a=r(0,t))&&i?i.p(e,t):(i.d(1),(i=a(t))&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&u(n)}}}function at(e,t,n){let r,a;o(e,Ge,e=>{n("$openField",r=e)}),o(e,Me,e=>{n("$json",a=e)});let{key:i,open:l=!1}=t;function c(e){s(Ge,r=e)}return e.$set=e=>{"key"in e&&n("key",i=e.key),"open"in e&&n("open",l=e.open)},e.$$.update=(e={$openField:1,key:1})=>{(e.$openField||e.key)&&n("open",l=r===i)},{key:i,open:l,getLabel:function(){return i.replace("_"," ")},handleChange:c,$openField:r,$json:a,click_handler:()=>c(i),click_handler_1:()=>s(Ge,r=null),input_input_handler:function(){Me.update(e=>(e[i]=this.value,e)),n("key",i)},click_handler_2:()=>s(Ge,r=null)}}class it extends J{constructor(e){super(),H(this,e,at,rt,i,["key","open"])}}function ot(e,t,n){const r=Object.create(e);return r.name=t[n],r.each_value=t,r.i=n,r}function st(e){var t,n,a,i,o,s,h,_,k,v,b,x;let j=e.$json[e.key],w=[];for(let t=0;t<j.length;t+=1)w[t]=ct(ot(e,j,t));return{c(){t=p("fieldset"),n=p("button"),a=p("label"),i=f(e.key),s=m(),h=p("ul");for(let e=0;e<w.length;e+=1)w[e].c();_=m(),(k=p("button")).textContent="+ Add name",v=m(),(b=p("button")).textContent="Close",y(a,"for",o=`input_text_${e.key}`),y(n,"class","truncate button-primary-text svelte-1kkmgem"),y(h,"class","svelte-1kkmgem"),y(k,"type","button"),y(b,"class","close button-primary-text svelte-1kkmgem"),x=[g(n,"click",e.click_handler_1),g(k,"click",e.handleAdd),g(b,"click",e.click_handler_3)]},m(e,r){c(e,t,r),l(t,n),l(n,a),l(a,i),l(t,s),l(t,h);for(let e=0;e<w.length;e+=1)w[e].m(h,null);l(t,_),l(t,k),l(t,v),l(t,b)},p(e,t){if(e.key&&$(i,t.key),e.key&&o!==(o=`input_text_${t.key}`)&&y(a,"for",o),e.$json||e.key){let n;for(j=t.$json[t.key],n=0;n<j.length;n+=1){const r=ot(t,j,n);w[n]?w[n].p(e,r):(w[n]=ct(r),w[n].c(),w[n].m(h,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=j.length}},d(e){e&&u(t),d(w,e),r(x)}}}function lt(e){var t,n,r,a,i,o,s=e.getLabel()+"",d=e.$json[e.key]+"";return{c(){t=p("button"),n=p("label"),r=f(s),a=f("\n    : "),i=f(d),y(t,"class","truncate button-primary-text svelte-1kkmgem"),o=g(t,"click",e.click_handler)},m(e,o){c(e,t,o),l(t,n),l(n,r),l(t,a),l(t,i)},p(e,t){(e.$json||e.key)&&d!==(d=t.$json[t.key]+"")&&$(i,d)},d(e){e&&u(t),o()}}}function ct(e){var t,n,a,i,o,s,d;function f(){e.input_input_handler.call(n,e)}function h(){return e.click_handler_2(e)}return{c(){t=p("li"),n=p("input"),i=m(),(o=p("button")).textContent="-",s=m(),y(n,"type","text"),y(n,"id",a=`input_text_${e.name}`),y(n,"class"," svelte-1kkmgem"),y(o,"type","button"),y(o,"class","button-primary-text svelte-1kkmgem"),y(t,"class","svelte-1kkmgem"),d=[g(n,"input",f),g(o,"click",h)]},m(r,a){c(r,t,a),l(t,n),_(n,e.name),l(t,i),l(t,o),l(t,s)},p(t,r){e=r,(t.$json||t.key)&&n.value!==e.name&&_(n,e.name),(t.$json||t.key)&&a!==(a=`input_text_${e.name}`)&&y(n,"id",a)},d(e){e&&u(t),r(d)}}}function ut(t){var n;function r(e,t){return t.open?st:lt}var a=r(0,t),i=a(t);return{c(){i.c(),n=h()},m(e,t){i.m(e,t),c(e,n,t)},p(e,t){a===(a=r(0,t))&&i?i.p(e,t):(i.d(1),(i=a(t))&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&u(n)}}}function dt(e,t,n){let r,a;o(e,Ge,e=>{n("$openField",r=e)}),o(e,Me,e=>{n("$json",a=e)});let{key:i,open:l=!1}=t;function c(e){s(Me,a[i]=a[i].slice(0,e).concat(a[i].slice(e+1)),a)}function u(e){s(Ge,r=e)}return e.$set=e=>{"key"in e&&n("key",i=e.key),"open"in e&&n("open",l=e.open)},e.$$.update=(e={$openField:1,key:1})=>{(e.$openField||e.key)&&n("open",l=r===i)},{key:i,open:l,getLabel:function(){return i.replace("_"," ")},handleDelete:c,handleChange:u,handleAdd:function(){s(Me,a[i]=[...a[i],""],a)},$openField:r,$json:a,click_handler:()=>u(i),click_handler_1:()=>s(Ge,r=null),input_input_handler:function({name:e,each_value:t,i:r}){t[r]=this.value,n("key",i)},click_handler_2:({i:e})=>c(e),click_handler_3:()=>s(Ge,r=null)}}class pt extends J{constructor(e){super(),H(this,e,dt,ut,i,["key","open"])}}function ft(e,t,n){const r=Object.create(e);return r.selectable=t[n],r}function mt(e,t,n){const r=Object.create(e);return r._key=t[n],r.i=n,r}function ht(e){var t,n,a,i,o,s,h,_,k;let v=Object.keys(e.$json[e.key]),b=[];for(let t=0;t<v.length;t+=1)b[t]=kt(mt(e,v,t));return{c(){t=p("fieldset"),n=p("button"),a=p("label"),i=f(e.key),o=m(),s=p("ul");for(let e=0;e<b.length;e+=1)b[e].c();h=m(),(_=p("button")).textContent="Close",y(n,"class","truncate button-primary-text svelte-a3jvw"),y(s,"class","svelte-a3jvw"),y(_,"class","close button-primary-text svelte-a3jvw"),k=[g(n,"click",e.click_handler_1),g(_,"click",e.click_handler_2)]},m(e,r){c(e,t,r),l(t,n),l(n,a),l(a,i),l(t,o),l(t,s);for(let e=0;e<b.length;e+=1)b[e].m(s,null);l(t,h),l(t,_)},p(e,t){if(e.key&&$(i,t.key),e.selectors||e.selectedValue||e.$json||e.key){let n;for(v=Object.keys(t.$json[t.key]),n=0;n<v.length;n+=1){const r=mt(t,v,n);b[n]?b[n].p(e,r):(b[n]=kt(r),b[n].c(),b[n].m(s,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=v.length}},d(e){e&&u(t),d(b,e),r(k)}}}function gt(t){var n,r,a,i,o,s,d=t.getLabel()+"",m=t.getTruncatedValue()+"";return{c(){n=p("button"),r=p("label"),a=f(d),i=f("\n    : "),o=f(m),y(n,"class","truncate button-primary-text svelte-a3jvw"),s=g(n,"click",t.click_handler)},m(e,t){c(e,n,t),l(n,r),l(r,a),l(n,i),l(n,o)},p:e,d(e){e&&u(n),s()}}}function yt(e){var t,n,r;function a(){e.input_input_handler.call(t,e)}return{c(){y(t=p("input"),"type","text"),y(t,"id",n=`input_text_${e._key}`),y(t,"class"," svelte-a3jvw"),r=g(t,"input",a)},m(n,r){c(n,t,r),_(t,e.$json[e.key][e._key])},p(r,a){e=a,(r.$json||r.key)&&t.value!==e.$json[e.key][e._key]&&_(t,e.$json[e.key][e._key]),(r.$json||r.key)&&n!==(n=`input_text_${e._key}`)&&y(t,"id",n)},d(e){e&&u(t),r()}}}function $t(e){var t,n;let a=e.selectors[e._key],i=[];for(let t=0;t<a.length;t+=1)i[t]=_t(ft(e,a,t));function o(){e.select_change_handler.call(t,e)}function s(){return e.change_handler(e)}return{c(){t=p("select");for(let e=0;e<i.length;e+=1)i[e].c();void 0===e.selectedValue[e._key]&&R(o),n=[g(t,"change",o),g(t,"change",s)]},m(n,r){c(n,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);k(t,e.selectedValue[e._key])},p(n,r){if(e=r,n.selectors||n.$json||n.key){let r;for(a=e.selectors[e._key],r=0;r<a.length;r+=1){const o=ft(e,a,r);i[r]?i[r].p(n,o):(i[r]=_t(o),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}(n.selectedValue||n.$json||n.key)&&k(t,e.selectedValue[e._key])},d(e){e&&u(t),d(i,e),r(n)}}}function _t(e){var t,n,r,a,i,o=e.selectable+"";return{c(){t=p("option"),n=f(o),r=m(),t.selected=a=e.selectable===e.$json[e.key][e._key],t.__value=i=e.selectable,t.value=t.__value},m(e,a){c(e,t,a),l(t,n),l(t,r)},p(e,r){(e.selectors||e.$json||e.key)&&o!==(o=r.selectable+"")&&$(n,o),(e.selectors||e.$json||e.key)&&a!==(a=r.selectable===r.$json[r.key][r._key])&&(t.selected=a),(e.selectors||e.$json||e.key)&&i!==(i=r.selectable)&&(t.__value=i),t.value=t.__value},d(e){e&&u(t)}}}function kt(e){var t,n,r,a,i,o,s=e._key+"";function d(e,t){return t.selectors?$t:yt}var h=d(0,e),g=h(e);return{c(){t=p("li"),n=p("label"),r=f(s),i=m(),g.c(),o=m(),y(n,"for",a=`input_text_${e._key}`)},m(e,a){c(e,t,a),l(t,n),l(n,r),l(t,i),g.m(t,null),l(t,o)},p(e,i){(e.$json||e.key)&&s!==(s=i._key+"")&&$(r,s),(e.$json||e.key)&&a!==(a=`input_text_${i._key}`)&&y(n,"for",a),h===(h=d(0,i))&&g?g.p(e,i):(g.d(1),(g=h(i))&&(g.c(),g.m(t,o)))},d(e){e&&u(t),g.d()}}}function vt(t){var n;function r(e,t){return t.open?ht:gt}var a=r(0,t),i=a(t);return{c(){i.c(),n=h()},m(e,t){i.m(e,t),c(e,n,t)},p(e,t){a===(a=r(0,t))&&i?i.p(e,t):(i.d(1),(i=a(t))&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&u(n)}}}function bt(e,t,n){let r,a;o(e,Ge,e=>{n("$openField",r=e)}),o(e,Me,e=>{n("$json",a=e)});let{key:i,open:l=!1,selectors:c}=t,u={};function d(e){s(Ge,r=e)}function p(e){s(Me,a[i][e]=u[e],a)}return e.$set=e=>{"key"in e&&n("key",i=e.key),"open"in e&&n("open",l=e.open),"selectors"in e&&n("selectors",c=e.selectors)},e.$$.update=(e={$openField:1,key:1})=>{(e.$openField||e.key)&&n("open",l=r===i)},{key:i,open:l,selectors:c,selectedValue:u,getLabel:function(){return i.replace("_"," ")},getTruncatedValue:function(){return JSON.stringify(a[i]).replace(/[{}"]/g,"")},handleChange:d,handleSelect:p,$openField:r,$json:a,click_handler:()=>d(i),click_handler_1:()=>s(Ge,r=null),select_change_handler:function({_key:e}){u[e]=v(this),n("selectedValue",u),n("key",i),n("selectors",c)},change_handler:({_key:e})=>p(e),input_input_handler:function({_key:e}){Me.update(t=>(t[i][e]=this.value,t)),n("key",i),n("selectors",c)},click_handler_2:()=>s(Ge,r=null)}}class xt extends J{constructor(e){super(),H(this,e,bt,vt,i,["key","open","selectors"])}}function jt(e,t,n){const r=Object.create(e);return r._key=t[n],r}function wt(e,t,n){const r=Object.create(e);return r.image=t[n],r.idx=n,r}function St(e){var t,n,a,i,o,s,f,h,$,k,v,b,x,j;let w=e.$json.images.all,S=[];for(let t=0;t<w.length;t+=1)S[t]=Et(wt(e,w,t));return{c(){t=p("fieldset"),(n=p("button")).innerHTML="<label>images</label>",a=m(),i=p("ul"),o=p("li"),(s=p("label")).textContent="cloud_name",f=m(),h=p("input"),$=m();for(let e=0;e<S.length;e+=1)S[e].c();k=m(),(v=p("button")).textContent="Add image",b=m(),(x=p("button")).textContent="Close",y(n,"class","truncate button-primary-text svelte-1htuka7"),y(s,"for","input_text_pid_cloud_name"),y(h,"type","text"),y(h,"id","input_text_pid_cloud_name"),y(h,"name","pId_cloud_name"),y(h,"class"," svelte-1htuka7"),y(i,"class","svelte-1htuka7"),y(v,"class","button-primary-text"),y(x,"class","close button-primary-text svelte-1htuka7"),j=[g(n,"click",e.click_handler_1),g(h,"input",e.input_input_handler),g(v,"click",e.click_handler_2),g(x,"click",e.click_handler_3)]},m(r,u){c(r,t,u),l(t,n),l(t,a),l(t,i),l(i,o),l(o,s),l(o,f),l(o,h),_(h,e.$json.images.cloud_name),l(i,$);for(let e=0;e<S.length;e+=1)S[e].m(i,null);l(t,k),l(t,v),l(t,b),l(t,x)},p(e,t){if(e.$json&&h.value!==t.$json.images.cloud_name&&_(h,t.$json.images.cloud_name),e.imgKeys||e.$json){let n;for(w=t.$json.images.all,n=0;n<w.length;n+=1){const r=wt(t,w,n);S[n]?S[n].p(e,r):(S[n]=Et(r),S[n].c(),S[n].m(i,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=w.length}},d(e){e&&u(t),d(S,e),r(j)}}}function Ct(t){var n,r;return{c(){(n=p("button")).innerHTML="<label>images</label>\n\t\t\t    : '...'\n\t\t\t  ",y(n,"class","truncate button-primary-text svelte-1htuka7"),r=g(n,"click",t.click_handler)},m(e,t){c(e,n,t)},p:e,d(e){e&&u(n),r()}}}function Ft(e){var t,n,r,a,i,o,s=e._key+"";function d(){e.input_input_handler_1.call(i,e)}return{c(){t=p("li"),n=p("label"),r=f(s),a=m(),i=p("input"),y(n,"for",`img_${e._key}_${e.idx}`),y(i,"type","text"),y(i,"id",`img_${e._key}_${e.idx}`),y(i,"name",`img_${e._key}_${e.idx}`),y(i,"class"," svelte-1htuka7"),o=g(i,"input",d)},m(o,s){c(o,t,s),l(t,n),l(n,r),l(t,a),l(t,i),_(i,e.$json.images.all[e.idx][e._key])},p(t,n){e=n,(t.$json||t.imgKeys)&&i.value!==e.$json.images.all[e.idx][e._key]&&_(i,e.$json.images.all[e.idx][e._key])},d(e){e&&u(t),o()}}}function Et(e){var t,n,r,a,i,o,s;let h=e.imgKeys,g=[];for(let t=0;t<h.length;t+=1)g[t]=Ft(jt(e,h,t));return{c(){t=p("button"),n=p("label"),r=f("Image "),a=f(e.idx),i=m(),o=p("ul");for(let e=0;e<g.length;e+=1)g[e].c();s=m(),y(t,"class","truncate button-primary-text svelte-1htuka7"),y(o,"class","indented-list svelte-1htuka7")},m(e,u){c(e,t,u),l(t,n),l(n,r),l(n,a),c(e,i,u),c(e,o,u);for(let e=0;e<g.length;e+=1)g[e].m(o,null);l(o,s)},p(e,t){if(e.imgKeys||e.$json){let n;for(h=t.imgKeys,n=0;n<h.length;n+=1){const r=jt(t,h,n);g[n]?g[n].p(e,r):(g[n]=Ft(r),g[n].c(),g[n].m(o,s))}for(;n<g.length;n+=1)g[n].d(1);g.length=h.length}},d(e){e&&(u(t),u(i),u(o)),d(g,e)}}}function Nt(t){var n;function r(e,t){return t.open?St:Ct}var a=r(0,t),i=a(t);return{c(){i.c(),n=h()},m(e,t){i.m(e,t),c(e,n,t)},p(e,t){a===(a=r(0,t))&&i?i.p(e,t):(i.d(1),(i=a(t))&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&u(n)}}}function Ot(e,t,n){let r,a;o(e,Ge,e=>{n("$openField",r=e)}),o(e,Me,e=>{n("$json",a=e)});let{key:i,open:l=!1}=t,c=["public_id","license","lic_url","by","url"];function u(){s(Ge,r=i)}function d(){s(Me,a.images.all=[...a.images.all,{alt:"",public_id:"",license:"CC BY 3.0",lic_url:"https://creativecommons.org/licenses/by/3.0/",by:"Göran Liljeberg",url:"http://liljebergs.nu/"}],a)}return e.$set=e=>{"key"in e&&n("key",i=e.key),"open"in e&&n("open",l=e.open)},e.$$.update=(e={$openField:1,key:1})=>{(e.$openField||e.key)&&n("open",l=r===i)},{key:i,open:l,imgKeys:c,handleChange:u,addImage:d,$openField:r,$json:a,click_handler:()=>u(),click_handler_1:()=>s(Ge,r=null),input_input_handler:function(){Me.update(e=>(e.images.cloud_name=this.value,e))},input_input_handler_1:function({idx:e,_key:t}){Me.update(n=>(n.images.all[e][t]=this.value,n)),n("imgKeys",c)},click_handler_2:()=>d(),click_handler_3:()=>s(Ge,r=null)}}class Lt extends J{constructor(e){super(),H(this,e,Ot,Nt,i,["key","open"])}}function Rt(t){var n,r,a,i,o,s,d,f,h,g,$,_,k,v=new it({props:{key:"scientific_name"}}),b=new it({props:{key:"author_citation"}}),x=new pt({props:{key:"local_names"}}),j=new et({props:{key:"description"}}),w=new et({props:{key:"behaviour"}}),S=new et({props:{key:"distribution"}}),C=new et({props:{key:"habitat"}}),F=new xt({props:{key:"size",selectors:null}}),E=new pt({props:{key:"similar_species"}}),N=new it({props:{key:"flight_period"}}),O=new xt({props:{key:"red_list",selectors:t.redListSelectors}}),L=new Lt({props:{key:"images"}});return{c(){n=p("div"),v.$$.fragment.c(),r=m(),b.$$.fragment.c(),a=m(),x.$$.fragment.c(),i=m(),j.$$.fragment.c(),o=m(),w.$$.fragment.c(),s=m(),S.$$.fragment.c(),d=m(),C.$$.fragment.c(),f=m(),F.$$.fragment.c(),h=m(),E.$$.fragment.c(),g=m(),N.$$.fragment.c(),$=m(),O.$$.fragment.c(),_=m(),L.$$.fragment.c(),y(n,"class","editors svelte-1s0lx9d")},m(e,t){c(e,n,t),P(v,n,null),l(n,r),P(b,n,null),l(n,a),P(x,n,null),l(n,i),P(j,n,null),l(n,o),P(w,n,null),l(n,s),P(S,n,null),l(n,d),P(C,n,null),l(n,f),P(F,n,null),l(n,h),P(E,n,null),l(n,g),P(N,n,null),l(n,$),P(O,n,null),l(n,_),P(L,n,null),k=!0},p:e,i(e){k||(B(v.$$.fragment,e),B(b.$$.fragment,e),B(x.$$.fragment,e),B(j.$$.fragment,e),B(w.$$.fragment,e),B(S.$$.fragment,e),B(C.$$.fragment,e),B(F.$$.fragment,e),B(E.$$.fragment,e),B(N.$$.fragment,e),B(O.$$.fragment,e),B(L.$$.fragment,e),k=!0)},o(e){I(v.$$.fragment,e),I(b.$$.fragment,e),I(x.$$.fragment,e),I(j.$$.fragment,e),I(w.$$.fragment,e),I(S.$$.fragment,e),I(C.$$.fragment,e),I(F.$$.fragment,e),I(E.$$.fragment,e),I(N.$$.fragment,e),I(O.$$.fragment,e),I(L.$$.fragment,e),k=!1},d(e){e&&u(n),V(v),V(b),V(x),V(j),V(w),V(S),V(C),V(F),V(E),V(N),V(O),V(L)}}}function At(e){var t,n,a=e.$json.scientific_name&&Rt(e);return{c(){a&&a.c(),t=h()},m(e,r){a&&a.m(e,r),c(e,t,r),n=!0},p(e,n){n.$json.scientific_name?a?(a.p(e,n),B(a,1)):((a=Rt(n)).c(),B(a,1),a.m(t.parentNode,t)):a&&(q={r:0,c:[],p:q},I(a,1,1,()=>{a=null}),q.r||r(q.c),q=q.p)},i(e){n||(B(a),n=!0)},o(e){I(a),n=!1},d(e){a&&a.d(e),e&&u(t)}}}function Tt(e,t,n){let r;o(e,Me,e=>{n("$json",r=e)});const a=["","Not Evaluated","Not present","Not Applicable","Data Deficient","Least Concern","Least Concern to Near threatened depending on subspecies","Near threatened","Vulnerable","Endangered","Endangered to Critically Endangered depending on subspecies","Critically endangered","Extinct in the wild","Extinct"],i=["","No","Endemic"];return{redListSelectors:{habitats_directive:["","No","II","IV","II+IV"],red_list_EU27:a,red_list_europe:a,red_list_mediterranean:a,EU27_endemic:i,red_list_europe_endemic:i,trend_europe:["","Increasing","Stable","Decreasing","Unknown","Stable to Decreasing depending on subspecie"]},$json:r}}class Ut extends J{constructor(e){super(),H(this,e,Tt,At,i,[])}}function qt(e){var t,n;return{c(){(t=p("button")).textContent="Get JSON",y(t,"class","button-success"),n=g(t,"click",e.handleClick)},m(e,n){c(e,t,n)},d(e){e&&u(t),n()}}}function Bt(t){var n,r=t.$json.items_id&&qt(t);return{c(){r&&r.c(),n=h()},m(e,t){r&&r.m(e,t),c(e,n,t)},p(e,t){t.$json.items_id?r||((r=qt(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&u(n)}}}function It(e,t,n){let r;o(e,Me,e=>{n("$json",r=e)});return{handleClick:function(){navigator.permissions.query({name:"clipboard-write"}).then(e=>{"granted"!=e.state&&"prompt"!=e.state||function(e){navigator.clipboard.writeText(e).then((function(){alert("JSON was copied to your clipboard")}),(function(){alert("FAILED")}))}(JSON.stringify(r))})},$json:r}}class Dt extends J{constructor(e){super(),H(this,e,It,Bt,i,[])}}function Pt(e){var t,n;return{c(){(t=p("button")).textContent="Save",n=g(t,"click",e.handleSave)},m(e,n){c(e,t,n)},d(e){e&&u(t),n()}}}function Vt(t){var n,r=t.$json.items_id&&Pt(t);return{c(){r&&r.c(),n=h()},m(e,t){r&&r.m(e,t),c(e,n,t)},p(e,t){t.$json.items_id?r||((r=Pt(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&u(n)}}}function zt(e,t,n){let r;return o(e,Me,e=>{n("$json",r=e)}),{handleSave:function(){window.localStorage.setItem(r.items_id,JSON.stringify(r)),Xe.set(r.items_id)},$json:r}}class Ht extends J{constructor(e){super(),H(this,e,zt,Vt,i,[])}}function Jt(e){var t,n;return{c(){(t=p("button")).textContent="Recover",n=g(t,"click",e.handleRecover)},m(e,n){c(e,t,n)},d(e){e&&u(t),n()}}}function Kt(t){var n,r=t.item&&Jt(t);return{c(){r&&r.c(),n=h()},m(e,t){r&&r.m(e,t),c(e,n,t)},p(e,t){t.item?r||((r=Jt(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&u(n)}}}function Mt(e,t,n){let r,a;o(e,Me,e=>{n("$json",r=e)}),o(e,Xe,e=>{n("$savedSpecie",a=e)});let i=null;return e.$$.update=(e={$json:1,$savedSpecie:1})=>{(e.$json||e.$savedSpecie)&&(r.items_id||a===r.items)&&n("item",i=window.localStorage.getItem(r.items_id))},{item:i,handleRecover:function(){const e=window.localStorage.getItem(r.items_id);Me.set(JSON.parse(e))}}}class Gt extends J{constructor(e){super(),H(this,e,Mt,Kt,i,[])}}function Xt(e){var t,n;return{c(){(t=p("button")).textContent="Reset",n=g(t,"click",e.handleReset)},m(e,n){c(e,t,n)},d(e){e&&u(t),n()}}}function Yt(t){var n,r=t.item&&Xt(t);return{c(){r&&r.c(),n=h()},m(e,t){r&&r.m(e,t),c(e,n,t)},p(e,t){t.item?r||((r=Xt(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&u(n)}}}function Qt(e,t,n){let r,a;o(e,Me,e=>{n("$json",r=e)}),o(e,Xe,e=>{n("$savedSpecie",a=e)});let{selectedFamily:i="",selectedSpecie:s=""}=t,l=null;return e.$set=e=>{"selectedFamily"in e&&n("selectedFamily",i=e.selectedFamily),"selectedSpecie"in e&&n("selectedSpecie",s=e.selectedSpecie)},e.$$.update=(e={$json:1,$savedSpecie:1})=>{(e.$json||e.$savedSpecie)&&(r.items_id||a===r.items)&&n("item",l=window.localStorage.getItem(r.items_id))},{selectedFamily:i,selectedSpecie:s,item:l,handleReset:function(){window.localStorage.removeItem(r.items_id),Le({family:i,species:s}).then(e=>Me.set(e))}}}class Wt extends J{constructor(e){super(),H(this,e,Qt,Yt,i,["selectedFamily","selectedSpecie"])}}function Zt(e){var t,n,r=e.$json.scientific_name+"";return{c(){t=p("h2"),n=f(r),y(t,"class","h4 svelte-1w6t2k1")},m(e,r){c(e,t,r),l(t,n)},p(e,t){e.$json&&r!==(r=t.$json.scientific_name+"")&&$(n,r)},d(e){e&&u(t)}}}function en(e){var t,n,r,a,i,o,s,d,f,h,g,$,_,k,v,b,x,j,w,S=new Be({}),C=new He({props:{selectedFamily:e.selectedFamily,selectedSpecie:e.selectedSpecie}}),F=e.$json.scientific_name&&Zt(e),E=new Ut({}),N=new Dt({}),O=new Ht({}),L=new Gt({}),R=new Wt({props:{selectedFamily:e.selectedFamily,selectedSpecie:e.selectedSpecie}});return{c(){t=p("main"),n=p("section"),(r=p("div")).innerHTML='<img src="libellula-bw.png" alt="libellula" class="svelte-1w6t2k1"> <h1 class="h4 svelte-1w6t2k1">Dragonfly API JSON Editor</h1>',a=m(),i=p("div"),o=p("div"),S.$$.fragment.c(),s=m(),C.$$.fragment.c(),d=m(),f=p("div"),F&&F.c(),h=m(),g=p("section"),$=p("div"),_=p("div"),E.$$.fragment.c(),k=m(),v=p("div"),N.$$.fragment.c(),b=m(),O.$$.fragment.c(),x=m(),L.$$.fragment.c(),j=m(),R.$$.fragment.c(),y(r,"class","heading svelte-1w6t2k1"),y(o,"class","col-sm-4"),y(f,"class","col-sm-8"),y(i,"class","row hero svelte-1w6t2k1"),y(n,"class","container svelte-1w6t2k1"),y(_,"class","col-sm-12"),y($,"class","row"),y(g,"class","container svelte-1w6t2k1")},m(e,u){c(e,t,u),l(t,n),l(n,r),l(n,a),l(n,i),l(i,o),P(S,o,null),l(o,s),P(C,o,null),l(i,d),l(i,f),F&&F.m(f,null),l(t,h),l(t,g),l(g,$),l($,_),P(E,_,null),l(_,k),l(_,v),P(N,v,null),l(v,b),P(O,v,null),l(v,x),P(L,v,null),l(v,j),P(R,v,null),w=!0},p(e,t){var n={};e.selectedFamily&&(n.selectedFamily=t.selectedFamily),e.selectedSpecie&&(n.selectedSpecie=t.selectedSpecie),C.$set(n),t.$json.scientific_name?F?F.p(e,t):((F=Zt(t)).c(),F.m(f,null)):F&&(F.d(1),F=null);var r={};e.selectedFamily&&(r.selectedFamily=t.selectedFamily),e.selectedSpecie&&(r.selectedSpecie=t.selectedSpecie),R.$set(r)},i(e){w||(B(S.$$.fragment,e),B(C.$$.fragment,e),B(E.$$.fragment,e),B(N.$$.fragment,e),B(O.$$.fragment,e),B(L.$$.fragment,e),B(R.$$.fragment,e),w=!0)},o(e){I(S.$$.fragment,e),I(C.$$.fragment,e),I(E.$$.fragment,e),I(N.$$.fragment,e),I(O.$$.fragment,e),I(L.$$.fragment,e),I(R.$$.fragment,e),w=!1},d(e){e&&u(t),V(S),V(C),F&&F.d(),V(E),V(N),V(O),V(L),V(R)}}}function tn(e,t,n){let r;o(e,Me,e=>{n("$json",r=e)});let a="",i="";var s;return w("family",{setFamily:e=>{n("selectedFamily",a=e),n("selectedSpecie",i=""),Me.set({})}}),w("specie",{setSpecie:e=>{n("selectedSpecie",i=e),Me.set({})}}),s=()=>{document.addEventListener("keydown",(function(e){(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&83==e.keyCode&&(e.preventDefault(),r.items_id&&(window.localStorage.setItem(r.items_id,JSON.stringify(r)),Xe.set(r.items_id)))}),!1)},j().$$.on_mount.push(s),e.$$.update=(e={selectedFamily:1,selectedSpecie:1})=>{(e.selectedFamily||e.selectedSpecie)&&Le({family:a,species:i}).then(e=>Me.set(e))},{selectedFamily:a,selectedSpecie:i,$json:r}}return new class extends J{constructor(e){super(),H(this,e,tn,en,i,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
